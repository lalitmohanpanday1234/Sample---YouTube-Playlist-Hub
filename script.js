// Playlist data with multiple categories
const playlistData = [
    {
        title: "‚ñ∂Ô∏è1Ô∏è‚É£Best Videos For Everyone | Parenting Tips & Life Lessons | Best Parenting Guide for Parents & Children",
        description: "This comprehensive playlist offers essential parenting guidance and valuable life lessons for parents and children. Featuring expert advice on child development, effective communication strategies, and practical parenting techniques. Learn how to build stronger family relationships, understand child psychology, and create a nurturing environment for your children's growth. Perfect for parents seeking meaningful insights into modern parenting challenges and solutions.",
        url: "https://www.youtube.com/playlist?list=PLwPax9asFg3YKvO0SQVGzO5E-OCqVxwgH",
        channel: "@YouTubePlaylistHindi",
        categories: ["‚≠ê VVIMP", "üì∫ Video"],
        impact: "‚úÖ Very High",
        usefulness: "‚úÖ Positive"
    },
    {
        title: "‚ñ∂Ô∏è2Ô∏è‚É£ Best Videos For Everyone | Health, Fitness, Food & Nutrition Guide | Best Diet, Fitness & Healthy Lifestyle Tips",
        description: "Discover the ultimate guide to health and wellness with this extensive playlist covering fitness routines, nutritional advice, and healthy lifestyle practices. Learn about balanced diets, effective workout strategies, and sustainable health habits from experts. Whether you're beginning your fitness journey or seeking advanced health knowledge, this collection provides scientifically-backed information to help you achieve optimal physical and mental well-being.",
        url: "https://www.youtube.com/playlist?list=PLwPax9asFg3bMEMebsuU2FSSa7TnXm-tv",
        channel: "@YouTubePlaylistHindi",
        categories: ["‚≠ê VVIMP", "üì∫ Video"],
        impact: "‚úÖ Very High",
        usefulness: "‚úÖ Positive"
    },
    {
        title: "‚ñ∂Ô∏è3Ô∏è‚É£ Best Videos For Everyone | Reality of Media, Government, Elites & Society | Truth, Awareness & Life Lessons",
        description: "Uncover the hidden truths about media, government systems, and societal structures in this eye-opening playlist. Explore critical analysis of power dynamics, media manipulation techniques, and the realities of elite influence. Gain awareness about how information is controlled and distributed, and develop critical thinking skills to navigate today's complex information landscape. Essential viewing for anyone seeking to understand the true mechanisms shaping our society.",
        url: "https://www.youtube.com/playlist?list=PLwPax9asFg3ZdGXiXHKmxnEDxeohkEqvS",
        channel: "@YouTubePlaylistHindi",
        categories: ["‚≠ê VVIMP", "üì∫ Video"],
        impact: "‚úÖ Very High",
        usefulness: "‚úÖ Positive"
    },
    {
        title: "‚ñ∂Ô∏è4Ô∏è‚É£ Best Videos For Everyone | Wisdom, Philosophy & Purpose | Life, Time & Job/Work | Life Lessons, Inner Growth & Truth",
        description: "Embark on a journey of self-discovery and philosophical exploration with this profound playlist. Delve into timeless wisdom about life's purpose, the nature of time, and finding meaning in work and daily existence. Features insights from great thinkers and spiritual teachers on personal growth, mindfulness, and living authentically. Perfect for those seeking deeper understanding of themselves and their place in the world.",
        url: "https://www.youtube.com/playlist?list=PLwPax9asFg3bnDV6C6pSha40W1VSqy_bu",
        channel: "@YouTubePlaylistHindi",
        categories: ["‚≠ê VVIMP", "üì∫ Video"],
        impact: "‚úÖ Very High",
        usefulness: "‚úÖ Positive"
    },
    {
        title: "‚ñ∂Ô∏è5Ô∏è‚É£ Best Videos For Everyone | Motivation, Inspiration, Transformation & Life Hacks | Habits, Mindset, Discipline, Productivity & Focus",
        description: "Transform your life with this powerful collection of motivational content and practical life strategies. Learn how to build productive habits, develop mental discipline, enhance focus, and achieve personal transformation. Features expert advice on mindset shifts, productivity techniques, and inspirational stories of personal growth. Whether you're seeking career advancement or personal development, this playlist provides the tools for meaningful change.",
        url: "https://www.youtube.com/playlist?list=PLwPax9asFg3aCvH38Bz5UQZGzkCV1AIEs",
        channel: "@YouTubePlaylistHindi",
        categories: ["‚≠ê VVIMP", "üì∫ Video"],
        impact: "‚úÖ Very High",
        usefulness: "‚úÖ Positive"
    },
    {
        title: "Great World Thinkers & Spiritual Teachers | Hindi | Best Videos To Understand Their Wisdom",
        description: "Explore the profound teachings of world-renowned thinkers and spiritual masters through this enlightening Hindi playlist. Discover the philosophical insights, spiritual wisdom, and transformative ideas that have shaped human consciousness across cultures and centuries. From Eastern mystics to Western philosophers, this collection brings you accessible explanations of complex spiritual concepts and practical applications for modern living.",
        url: "https://www.youtube.com/playlist?list=PLKEG0DlLAghkcWt_lKnqLVpBRcAM_xKph",
        channel: "@HumanityWood",
        categories: ["Biography", "‚≠ê VVIMP", "üì∫ Video"],
        impact: "‚úÖ Very High",
        usefulness: "‚úÖ Positive"
    },
    {
        title: "Great Indian Thinkers & Gurus | Hindi | Best Videos To Understand Their Wisdom, Massages & Teachings",
        description: "Immerse yourself in the rich spiritual heritage of India through this comprehensive collection of teachings from great Indian gurus and thinkers. Learn about ancient wisdom traditions, meditation practices, and philosophical concepts that have guided seekers for millennia. Features detailed explanations of Vedanta, Yoga, and other Indian spiritual paths in accessible Hindi language. Perfect for both beginners and advanced practitioners of Indian spirituality.",
        url: "https://www.youtube.com/playlist?list=PLKEG0DlLAghmjies7K7wj-97s6WY01syw",
        channel: "@HumanityWood",
        categories: ["Biography", "‚≠ê VVIMP", "üì∫ Video"],
        impact: "‚úÖ Very High",
        usefulness: "‚úÖ Positive"
    },
    {
        title: "God, Religion & Spirituality as Philosophy | Hindi | Best Videos to Understand True Meaning",
        description: "This thought-provoking playlist explores religion and spirituality through philosophical lenses, examining the fundamental questions about God, existence, and human purpose. Delve into comparative religion studies, spiritual philosophy, and the essence of divine concepts across different traditions. Features intellectual discussions that bridge the gap between blind faith and rational inquiry, offering deeper understanding of spiritual matters beyond dogma and ritual.",
        url: "https://www.youtube.com/playlist?list=PLKEG0DlLAghnuOokCA9XS1X8IPR1jqlqk",
        channel: "@HumanityWood",
        categories: ["‚≠ê VVIMP", "üì∫ Video"],
        impact: "‚úÖ Very High",
        usefulness: "‚úÖ Positive"
    },
    {
        title: "The Beauty of Earth | Nature, Rivers, Mountains & Wildlife | Beautiful Real Videos & Stories",
        description: "Experience the breathtaking beauty of our planet through stunning visual journeys across diverse landscapes and ecosystems. This playlist showcases magnificent footage of mountains, rivers, forests, and wildlife in their natural habitats. Learn about geological formations, ecological systems, and conservation efforts while being immersed in nature's splendor. Perfect for nature lovers, environmental enthusiasts, and anyone seeking visual relaxation and inspiration from Earth's wonders.",
        url: "https://www.youtube.com/playlist?list=PLwPax9asFg3bLOvY3_SJKMYzE22gbh5rw",
        channel: "@YouTubePlaylistHindi",
        categories: ["üåç World", "üì∫ Video"],
        impact: "‚ö° High",
        usefulness: "‚úÖ Positive"
    },
    {
        title: "Beauty Of Science (When nature meets science) | best science experiments | best science videos",
        description: "Discover the fascinating intersection of nature and scientific inquiry through captivating experiments and educational content. This playlist reveals the hidden scientific principles operating in our natural world, from physics in animal movement to chemistry in plant life. Features stunning demonstrations, easy-to-understand explanations, and mind-blowing experiments that make complex scientific concepts accessible and entertaining for all ages.",
        url: "https://www.youtube.com/playlist?list=PLwPax9asFg3YsTBG1WeR6fjUwLWAghxHT",
        channel: "@YouTubePlaylistHindi",
        categories: ["üåç World", "üì∫ Video"],
        impact: "‚ö° High",
        usefulness: "‚úÖ Positive"
    }
];



// DOM Elements
const playlistsContainer = document.getElementById('playlists-container');
const totalCountElement = document.getElementById('total-count');
const showingCountElement = document.getElementById('showing-count');
const categoryFilters = document.querySelectorAll('.filter-btn');
const impactFilters = document.querySelectorAll('.impact-filters input');
const usefulnessFilters = document.querySelectorAll('.usefulness-filters input');

// Initialize the application
function init() {
    // Set total count
    totalCountElement.textContent = playlistData.length;
    
    // Render all playlists initially
    renderPlaylists(playlistData);
    
    // Set up event listeners
    setupEventListeners();
}

// Render playlists to the DOM
function renderPlaylists(playlists) {
    playlistsContainer.innerHTML = '';
    
    if (playlists.length === 0) {
        playlistsContainer.innerHTML = `
            <div class="no-results">
                <i class="fas fa-search"></i>
                <p>No playlists match your filters. Try adjusting your criteria.</p>
            </div>
        `;
        showingCountElement.textContent = '0';
        return;
    }
    
    playlists.forEach(playlist => {
        const playlistCard = createPlaylistCard(playlist);
        playlistsContainer.appendChild(playlistCard);
    });
    
    showingCountElement.textContent = playlists.length;
}

// Create a playlist card element
function createPlaylistCard(playlist) {
    const card = document.createElement('div');
    card.className = 'playlist-card';
    
    // Extract playlist ID from URL for embedding
    const playlistId = extractPlaylistId(playlist.url);
    
    card.innerHTML = `
        <div class="playlist-header">
            <div>
                <div class="playlist-title">${playlist.title}</div>
                <div class="tags-container">
                    ${playlist.categories.map(category => `<span class="tag ${category.replace(/\s+/g, '-')}">${category}</span>`).join('')}
                </div>
            </div>
            <div class="expand-icon">
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
        <div class="playlist-details">
            <a href="${playlist.url}" target="_blank" class="watch-btn">
                <i class="fab fa-youtube"></i> Watch Playlist on YouTube
            </a>
            ${playlistId ? `
                <div class="youtube-embed-container">
                    <div class="youtube-embed">
                        <iframe 
                            src="https://www.youtube.com/embed/videoseries?list=${playlistId}" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen>
                        </iframe>
                    </div>
                </div>
            ` : ''}
            <div class="playlist-description-section">
                <div class="description-toggle">
                    Playlist Description <i class="fas fa-chevron-down"></i>
                </div>
                <div class="description-text">
                    ${playlist.description}
                </div>
            </div>
            <div class="details-grid">
                <div class="detail-item">
                    <span class="detail-label">Channel</span>
                    <span class="detail-value">${playlist.channel || 'N/A'}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Impact</span>
                    <span class="detail-value">${playlist.impact || 'N/A'}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Usefulness</span>
                    <span class="detail-value">${playlist.usefulness || 'N/A'}</span>
                </div>
            </div>
        </div>
    `;
    
    // Add event listeners for this card
    const header = card.querySelector('.playlist-header');
    const descriptionToggle = card.querySelector('.description-toggle');
    const descriptionText = card.querySelector('.description-text');
    
    header.addEventListener('click', () => {
        card.classList.toggle('expanded');
    });
    
    descriptionToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        descriptionText.classList.toggle('expanded');
        descriptionToggle.classList.toggle('expanded');
        descriptionToggle.innerHTML = descriptionText.classList.contains('expanded') 
            ? 'Playlist Description <i class="fas fa-chevron-up"></i>' 
            : 'Playlist Description <i class="fas fa-chevron-down"></i>';
    });
    
    return card;
}

// Extract playlist ID from YouTube URL
function extractPlaylistId(url) {
    const match = url.match(/[&?]list=([^&]+)/i);
    return match ? match[1] : null;
}

// Filter playlists based on selected criteria
function filterPlaylists() {
    // Get active category
    const activeCategory = document.querySelector('.filter-btn.active').dataset.category;
    
    // Get selected impact values
    const selectedImpacts = Array.from(impactFilters)
        .filter(checkbox => checkbox.checked)
        .map(checkbox => checkbox.value);
    
    // Get selected usefulness values
    const selectedUsefulness = Array.from(usefulnessFilters)
        .filter(checkbox => checkbox.checked)
        .map(checkbox => checkbox.value);
    
    // Filter playlists
    const filteredPlaylists = playlistData.filter(playlist => {
        // Category filter
        const categoryMatch = activeCategory === 'all' || 
            playlist.categories.includes(activeCategory);
        
        // Impact filter
        const impactMatch = selectedImpacts.length === 0 || 
            (playlist.impact && selectedImpacts.includes(playlist.impact));
        
        // Usefulness filter
        const usefulnessMatch = selectedUsefulness.length === 0 || 
            (playlist.usefulness && selectedUsefulness.includes(playlist.usefulness));
        
        return categoryMatch && impactMatch && usefulnessMatch;
    });
    
    // Render filtered playlists
    renderPlaylists(filteredPlaylists);
}

// Set up event listeners
function setupEventListeners() {
    // Category filter buttons
    categoryFilters.forEach(btn => {
        btn.addEventListener('click', () => {
            categoryFilters.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            filterPlaylists();
        });
    });
    
    // Impact filter checkboxes
    impactFilters.forEach(checkbox => {
        checkbox.addEventListener('change', filterPlaylists);
    });
    
    // Usefulness filter checkboxes
    usefulnessFilters.forEach(checkbox => {
        checkbox.addEventListener('change', filterPlaylists);
    });
}

// Initialize the application when DOM is loaded
document.addEventListener('DOMContentLoaded', init);
